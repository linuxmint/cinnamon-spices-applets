const e=imports.gettext,{GLib:t}=imports.gi,n=imports.ui.main,{St:i}=imports.gi,s={uuid:"",name:"",description:"",path:"",force_loaded:!1};function _(t){return e.dgettext(s.uuid,t)}let r="";const a=new i.Icon({icon_name:"dialog-warning",icon_type:i.IconType.SYMBOLIC,icon_size:24}),o=new i.Icon({icon_name:"dialog-error",icon_type:i.IconType.SYMBOLIC,icon_size:24}),u={info(e){global.log(r+`${_(":")} `+e),n.notify(r,e)},warn(e){global.logWarning(r+`${_(":")} `+e),n.warningNotify(r,e,a)},error(e){global.logError(r+`${_(":")} `+e),n.criticalNotify(r,e,o)}};function l(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];throw new Error("number"==typeof e?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var c={};function h(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:c}var d=Object.assign,f=Object.getOwnPropertyDescriptor,g=Object.defineProperty,p=Object.prototype,v=[];Object.freeze(v);var b={};Object.freeze(b);var m="undefined"!=typeof Proxy,y=Object.toString();function k(){m||l("Proxy not available")}function w(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var O=function(){};function S(e){return"function"==typeof e}function A(e){switch(typeof e){case"string":case"symbol":case"number":return!0}return!1}function x(e){return null!==e&&"object"==typeof e}function E(e){if(!x(e))return!1;var t=Object.getPrototypeOf(e);if(null==t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n.toString()===y}function j(e){var t=null==e?void 0:e.constructor;return!!t&&("GeneratorFunction"===t.name||"GeneratorFunction"===t.displayName)}function P(e,t,n){g(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function T(e,t,n){g(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function V(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return x(e)&&!0===e[n]}}function D(e){return null!=e&&"[object Map]"===Object.prototype.toString.call(e)}function I(e){return null!=e&&"[object Set]"===Object.prototype.toString.call(e)}var M=void 0!==Object.getOwnPropertySymbols;var C="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:M?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function N(e){return null===e?null:"object"==typeof e?""+e:e}function L(e,t){return p.hasOwnProperty.call(e,t)}var R=Object.getOwnPropertyDescriptors||function(e){var t={};return C(e).forEach(function(n){t[n]=f(e,n)}),t};function B(e,t){return!!(e&t)}function U(e,t,n){return n?e|=t:e&=~t,e}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function $(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,H(i.key),i)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function K(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return G(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?G(e,t):void 0}}(e))||t){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function z(){return z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},z.apply(null,arguments)}function F(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,q(e,t)}function q(e,t){return(q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function H(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t);if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}var W=Symbol("mobx-stored-annotations");function X(e){return Object.assign(function(t,n){if(J(n))return e.decorate_20223_(t,n);Y(t,n,e)},e)}function Y(e,t,n){L(e,W)||P(e,W,z({},e[W])),function(e){return e.annotationType_===re}(n)||(e[W][t]=n)}function J(e){return"object"==typeof e&&"string"==typeof e.kind}var Z=Symbol("mobx administration"),Q=function(){function e(e){void 0===e&&(e="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=nt.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=e}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(e){return e()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(e){return e()})},t.reportObserved=function(){return xt(this)},t.reportChanged=function(){St(),Et(this),At()},t.toString=function(){return this.name_},$(e,[{key:"isBeingObserved",get:function(){return B(this.flags_,e.isBeingObservedMask_)},set:function(t){this.flags_=U(this.flags_,e.isBeingObservedMask_,t)}},{key:"isPendingUnobservation",get:function(){return B(this.flags_,e.isPendingUnobservationMask_)},set:function(t){this.flags_=U(this.flags_,e.isPendingUnobservationMask_,t)}},{key:"diffValue",get:function(){return B(this.flags_,e.diffValueMask_)?1:0},set:function(t){this.flags_=U(this.flags_,e.diffValueMask_,1===t)}}])}();Q.isBeingObservedMask_=1,Q.isPendingUnobservationMask_=2,Q.diffValueMask_=4;var ee=V("Atom",Q);function te(e,t,n){void 0===t&&(t=O),void 0===n&&(n=O);var i,s=new Q(e);return t!==O&&Qt(Yt,s,t,i),n!==O&&Zt(s,n),s}var ne={structural:function(e,t){return di(e,t)},default:function(e,t){return Object.is?Object.is(e,t):e===t?0!==e||1/e==1/t:e!=e&&t!=t}};function ie(e,t,n){return _n(e)?e:Array.isArray(e)?Ge.array(e,{name:n}):E(e)?Ge.object(e,void 0,{name:n}):D(e)?Ge.map(e,{name:n}):I(e)?Ge.set(e,{name:n}):"function"!=typeof e||Ft(e)||un(e)?e:j(e)?an(e):Kt(n,e)}function se(e){return e}var re="override";function ae(e,t){return{annotationType_:e,options_:t,make_:oe,extend_:ue,decorate_20223_:_e}}function oe(e,t,n,i){var s;if(null!=(s=this.options_)&&s.bound)return null===this.extend_(e,t,n,!1)?0:1;if(i===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(Ft(n.value))return 1;var r=le(e,this,t,n,!1);return g(i,t,r),2}function ue(e,t,n,i){var s=le(e,this,t,n);return e.defineProperty_(t,s,i)}function _e(e,t){var n,i=t.kind,s=t.name,r=t.addInitializer,a=this,o=function(e){var t,n,i,r;return Ye(null!=(t=null==(n=a.options_)?void 0:n.name)?t:s.toString(),e,null!=(i=null==(r=a.options_)?void 0:r.autoAction)&&i)};return"field"==i?function(e){var t,n=e;return Ft(n)||(n=o(n)),null!=(t=a.options_)&&t.bound&&((n=n.bind(this)).isMobxAction=!0),n}:"method"==i?(Ft(e)||(e=o(e)),null!=(n=this.options_)&&n.bound&&r(function(){var e=this,t=e[s].bind(e);t.isMobxAction=!0,e[s]=t}),e):void l("Cannot apply '"+a.annotationType_+"' to '"+String(s)+"' (kind: "+i+"):\n'"+a.annotationType_+"' can only be used on properties with a function value.")}function le(e,t,n,i,s){var r,a,o,u,l,c,h,d;void 0===s&&(s=yt.safeDescriptors),d=i,t.annotationType_,d.value;var f,g=i.value;null!=(r=t.options_)&&r.bound&&(g=g.bind(null!=(f=e.proxy_)?f:e.target_));return{value:Ye(null!=(a=null==(o=t.options_)?void 0:o.name)?a:n.toString(),g,null!=(u=null==(l=t.options_)?void 0:l.autoAction)&&u,null!=(c=t.options_)&&c.bound?null!=(h=e.proxy_)?h:e.target_:void 0),configurable:!s||e.isPlainObject_,enumerable:!1,writable:!s}}function ce(e,t){return{annotationType_:e,options_:t,make_:he,extend_:de,decorate_20223_:fe}}function he(e,t,n,i){var s;if(i===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(null!=(s=this.options_)&&s.bound&&(!L(e.target_,t)||!un(e.target_[t]))&&null===this.extend_(e,t,n,!1))return 0;if(un(n.value))return 1;var r=ge(e,this,t,n,!1,!1);return g(i,t,r),2}function de(e,t,n,i){var s,r=ge(e,this,t,n,null==(s=this.options_)?void 0:s.bound);return e.defineProperty_(t,r,i)}function fe(e,t){var n,i=t.name,s=t.addInitializer;return un(e)||(e=an(e)),null!=(n=this.options_)&&n.bound&&s(function(){var e=this,t=e[i].bind(e);t.isMobXFlow=!0,e[i]=t}),e}function ge(e,t,n,i,s,r){var a;void 0===r&&(r=yt.safeDescriptors),a=i,t.annotationType_,a.value;var o,u=i.value;(un(u)||(u=an(u)),s)&&((u=u.bind(null!=(o=e.proxy_)?o:e.target_)).isMobXFlow=!0);return{value:u,configurable:!r||e.isPlainObject_,enumerable:!1,writable:!r}}function pe(e,t){return{annotationType_:e,options_:t,make_:ve,extend_:be,decorate_20223_:me}}function ve(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function be(e,t,n,i){var s;return s=n,this.annotationType_,s.get,e.defineComputedProperty_(t,z({},this.options_,{get:n.get,set:n.set}),i)}function me(e,t){var n=this,i=t.name;return(0,t.addInitializer)(function(){var t=qn(this)[Z],s=z({},n.options_,{get:e,context:this});s.name||(s.name="ObservableObject."+i.toString()),t.values_.set(i,new tt(s))}),function(){return this[Z].getObservablePropValue_(i)}}function ye(e,t){return{annotationType_:e,options_:t,make_:ke,extend_:we,decorate_20223_:Oe}}function ke(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function we(e,t,n,i){var s,r;return this.annotationType_,e.defineObservableProperty_(t,n.value,null!=(s=null==(r=this.options_)?void 0:r.enhancer)?s:ie,i)}function Oe(e,t){var n=this,i=t.kind,s=t.name,r=new WeakSet;function a(e,t){var i,a,o=qn(e)[Z],u=new et(t,null!=(i=null==(a=n.options_)?void 0:a.enhancer)?i:ie,"ObservableObject."+s.toString(),!1);o.values_.set(s,u),r.add(e)}if("accessor"==i)return{get:function(){return r.has(this)||a(this,e.get.call(this)),this[Z].getObservablePropValue_(s)},set:function(e){return r.has(this)||a(this,e),this[Z].setObservablePropValue_(s,e)},init:function(e){return r.has(this)||a(this,e),e}}}var Se="true",Ae=xe();function xe(e){return{annotationType_:Se,options_:e,make_:Ee,extend_:je,decorate_20223_:Pe}}function Ee(e,t,n,i){var s,r,a,o;if(n.get)return Fe.make_(e,t,n,i);if(n.set){var u=Ft(n.set)?n.set:Ye(t.toString(),n.set);return i===e.target_?null===e.defineProperty_(t,{configurable:!yt.safeDescriptors||e.isPlainObject_,set:u})?0:2:(g(i,t,{configurable:!0,set:u}),2)}if(i!==e.target_&&"function"==typeof n.value)return j(n.value)?(null!=(o=this.options_)&&o.autoBind?an.bound:an).make_(e,t,n,i):(null!=(a=this.options_)&&a.autoBind?Kt.bound:Kt).make_(e,t,n,i);var l,c=!1===(null==(s=this.options_)?void 0:s.deep)?Ge.ref:Ge;"function"==typeof n.value&&null!=(r=this.options_)&&r.autoBind&&(n.value=n.value.bind(null!=(l=e.proxy_)?l:e.target_));return c.make_(e,t,n,i)}function je(e,t,n,i){var s,r,a;if(n.get)return Fe.extend_(e,t,n,i);if(n.set)return e.defineProperty_(t,{configurable:!yt.safeDescriptors||e.isPlainObject_,set:Ye(t.toString(),n.set)},i);"function"==typeof n.value&&null!=(s=this.options_)&&s.autoBind&&(n.value=n.value.bind(null!=(a=e.proxy_)?a:e.target_));return(!1===(null==(r=this.options_)?void 0:r.deep)?Ge.ref:Ge).extend_(e,t,n,i)}function Pe(e,t){l("'"+this.annotationType_+"' cannot be used as a decorator")}var Te={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function Ve(e){return e||Te}Object.freeze(Te);var De=ye("observable"),Ie=ye("observable.ref",{enhancer:se}),Me=ye("observable.shallow",{enhancer:function(e,t,n){return null==e||Xn(e)||Dn(e)||Ln(e)||Gn(e)?e:Array.isArray(e)?Ge.array(e,{name:n,deep:!1}):E(e)?Ge.object(e,void 0,{name:n,deep:!1}):D(e)?Ge.map(e,{name:n,deep:!1}):I(e)?Ge.set(e,{name:n,deep:!1}):void 0}}),Ce=ye("observable.struct",{enhancer:function(e,t){return di(e,t)?t:e}}),Ne=X(De);function Le(e){return!0===e.deep?ie:!1===e.deep?se:(t=e.defaultDecorator)&&null!=(n=null==(i=t.options_)?void 0:i.enhancer)?n:ie;var t,n,i}function Re(e,t,n){return J(t)?De.decorate_20223_(e,t):A(t)?void Y(e,t,De):_n(e)?e:E(e)?Ge.object(e,t,n):Array.isArray(e)?Ge.array(e,t):D(e)?Ge.map(e,t):I(e)?Ge.set(e,t):"object"==typeof e&&null!==e?e:Ge.box(e,t)}d(Re,Ne);var Be,Ue,Ge=d(Re,{box:function(e,t){var n=Ve(t);return new et(e,Le(n),n.name,!0,n.equals)},array:function(e,t){var n=Ve(t);return(!1===yt.useProxies||!1===n.proxy?oi:An)(e,Le(n),n.name)},map:function(e,t){var n=Ve(t);return new Nn(e,Le(n),n.name)},set:function(e,t){var n=Ve(t);return new Un(e,Le(n),n.name)},object:function(e,t,n){return li(function(){return en(!1===yt.useProxies||!1===(null==n?void 0:n.proxy)?qn({},n):function(e,t){var n,i;return k(),e=qn(e,t),null!=(i=(n=e[Z]).proxy_)?i:n.proxy_=new Proxy(e,hn)}({},n),e,t)})},ref:X(Ie),shallow:X(Me),deep:Ne,struct:X(Ce)}),$e="computed",Ke=pe($e),ze=pe("computed.struct",{equals:ne.structural}),Fe=function(e,t){if(J(t))return Ke.decorate_20223_(e,t);if(A(t))return Y(e,t,Ke);if(E(e))return X(pe($e,e));var n=E(t)?t:{};return n.get=e,n.name||(n.name=e.name||""),new tt(n)};Object.assign(Fe,Ke),Fe.struct=X(ze);var qe=0,He=1,We=null!=(Be=null==(Ue=f(function(){},"name"))?void 0:Ue.configurable)&&Be,Xe={value:"action",configurable:!0,writable:!1,enumerable:!1};function Ye(e,t,n,i){function s(){return Je(e,n,t,i||this,arguments)}return void 0===n&&(n=!1),s.isMobxAction=!0,s.toString=function(){return t.toString()},We&&(Xe.value=e,g(s,"name",Xe)),s}function Je(e,t,n,i,s){var r=function(e,t){var n=!1,i=0,s=yt.trackingDerivation,r=!t||!s;St();var a=yt.allowStateChanges;r&&(dt(),a=Ze(!0));var o=gt(!0),u={runAsAction_:r,prevDerivation_:s,prevAllowStateChanges_:a,prevAllowStateReads_:o,notifySpy_:n,startTime_:i,actionId_:He++,parentActionId_:qe};return qe=u.actionId_,u}(0,t);try{return n.apply(i,s)}catch(a){throw r.error_=a,a}finally{!function(e){qe!==e.actionId_&&l(30);qe=e.parentActionId_,void 0!==e.error_&&(yt.suppressReactionErrors=!0);Qe(e.prevAllowStateChanges_),pt(e.prevAllowStateReads_),At(),e.runAsAction_&&ft(e.prevDerivation_);yt.suppressReactionErrors=!1}(r)}}function Ze(e){var t=yt.allowStateChanges;return yt.allowStateChanges=e,t}function Qe(e){yt.allowStateChanges=e}var et=function(e){function t(t,n,i,s,r){var a;return void 0===i&&(i="ObservableValue"),void 0===r&&(r=ne.default),(a=e.call(this,i)||this).enhancer=void 0,a.name_=void 0,a.equals=void 0,a.hasUnreportedChange_=!1,a.interceptors_=void 0,a.changeListeners_=void 0,a.value_=void 0,a.dehancer=void 0,a.enhancer=n,a.name_=i,a.equals=r,a.value_=n(t,void 0,i),a}F(t,e);var n=t.prototype;return n.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},n.set=function(e){this.value_,(e=this.prepareNewValue_(e))!==yt.UNCHANGED&&this.setNewValue_(e)},n.prepareNewValue_=function(e){if(dn(this)){var t=gn(this,{object:this,type:wn,newValue:e});if(!t)return yt.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value_,this.name_),this.equals(this.value_,e)?yt.UNCHANGED:e},n.setNewValue_=function(e){var t=this.value_;this.value_=e,this.reportChanged(),pn(this)&&bn(this,{type:wn,object:this,newValue:e,oldValue:t})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(e){return fn(this,e)},n.observe_=function(e,t){return t&&e({observableKind:"value",debugObjectName:this.name_,object:this,type:wn,newValue:this.value_,oldValue:void 0}),vn(this,e)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return N(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},t}(Q),tt=function(){function e(e){this.dependenciesState_=nt.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=nt.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new ot(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=st.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,e.get||l(31),this.derivation=e.get,this.name_=e.name||"ComputedValue",e.set&&(this.setter_=Ye("ComputedValue-setter",e.set)),this.equals_=e.equals||(e.compareStructural||e.struct?ne.structural:ne.default),this.scope_=e.context,this.requiresReaction_=e.requiresReaction,this.keepAlive_=!!e.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){!function(e){if(e.lowestObserverState_!==nt.UP_TO_DATE_)return;e.lowestObserverState_=nt.POSSIBLY_STALE_,e.observers_.forEach(function(e){e.dependenciesState_===nt.UP_TO_DATE_&&(e.dependenciesState_=nt.POSSIBLY_STALE_,e.onBecomeStale_())})}(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(e){return e()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(e){return e()})},t.get=function(){if(this.isComputing&&l(32,this.name_,this.derivation),0!==yt.inBatch||0!==this.observers_.size||this.keepAlive_){if(xt(this),_t(this)){var e=yt.trackingContext;this.keepAlive_&&!e&&(yt.trackingContext=this),this.trackAndCompute()&&function(e){if(e.lowestObserverState_===nt.STALE_)return;e.lowestObserverState_=nt.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===nt.POSSIBLY_STALE_?t.dependenciesState_=nt.STALE_:t.dependenciesState_===nt.UP_TO_DATE_&&(e.lowestObserverState_=nt.UP_TO_DATE_)})}(this),yt.trackingContext=e}}else _t(this)&&(this.warnAboutUntrackedRead_(),St(),this.value_=this.computeValue_(!1),At());var t=this.value_;if(ut(t))throw t.cause;return t},t.set=function(e){if(this.setter_){this.isRunningSetter&&l(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,e)}finally{this.isRunningSetter=!1}}else l(34,this.name_)},t.trackAndCompute=function(){var e=this.value_,t=this.dependenciesState_===nt.NOT_TRACKING_,n=this.computeValue_(!0),i=t||ut(e)||ut(n)||!this.equals_(e,n);return i&&(this.value_=n),i},t.computeValue_=function(e){this.isComputing=!0;var t,n=Ze(!1);if(e)t=lt(this,this.derivation,this.scope_);else if(!0===yt.disableErrorBoundaries)t=this.derivation.call(this.scope_);else try{t=this.derivation.call(this.scope_)}catch(i){t=new ot(i)}return Qe(n),this.isComputing=!1,t},t.suspend_=function(){this.keepAlive_||(ct(this),this.value_=void 0)},t.observe_=function(e,t){var n=this,i=!0,s=void 0;return qt(function(){var r=n.get();if(!i||t){var a=dt();e({observableKind:"computed",debugObjectName:n.name_,type:wn,object:n,newValue:r,oldValue:s}),ft(a)}i=!1,s=r})},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return N(this.get())},t[Symbol.toPrimitive]=function(){return this.valueOf()},$(e,[{key:"isComputing",get:function(){return B(this.flags_,e.isComputingMask_)},set:function(t){this.flags_=U(this.flags_,e.isComputingMask_,t)}},{key:"isRunningSetter",get:function(){return B(this.flags_,e.isRunningSetterMask_)},set:function(t){this.flags_=U(this.flags_,e.isRunningSetterMask_,t)}},{key:"isBeingObserved",get:function(){return B(this.flags_,e.isBeingObservedMask_)},set:function(t){this.flags_=U(this.flags_,e.isBeingObservedMask_,t)}},{key:"isPendingUnobservation",get:function(){return B(this.flags_,e.isPendingUnobservationMask_)},set:function(t){this.flags_=U(this.flags_,e.isPendingUnobservationMask_,t)}},{key:"diffValue",get:function(){return B(this.flags_,e.diffValueMask_)?1:0},set:function(t){this.flags_=U(this.flags_,e.diffValueMask_,1===t)}}])}();tt.isComputingMask_=1,tt.isRunningSetterMask_=2,tt.isBeingObservedMask_=4,tt.isPendingUnobservationMask_=8,tt.diffValueMask_=16;var nt,it,st,rt,at=V("ComputedValue",tt);(it=nt||(nt={}))[it.NOT_TRACKING_=-1]="NOT_TRACKING_",it[it.UP_TO_DATE_=0]="UP_TO_DATE_",it[it.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",it[it.STALE_=2]="STALE_",(rt=st||(st={}))[rt.NONE=0]="NONE",rt[rt.LOG=1]="LOG",rt[rt.BREAK=2]="BREAK";var ot=function(e){this.cause=void 0,this.cause=e};function ut(e){return e instanceof ot}function _t(e){switch(e.dependenciesState_){case nt.UP_TO_DATE_:return!1;case nt.NOT_TRACKING_:case nt.STALE_:return!0;case nt.POSSIBLY_STALE_:for(var t=gt(!0),n=dt(),i=e.observing_,s=i.length,r=0;r<s;r++){var a=i[r];if(at(a)){if(yt.disableErrorBoundaries)a.get();else try{a.get()}catch(o){return ft(n),pt(t),!0}if(e.dependenciesState_===nt.STALE_)return ft(n),pt(t),!0}}return vt(e),ft(n),pt(t),!1}}function lt(e,t,n){var i=gt(!0);vt(e),e.newObserving_=new Array(0===e.runId_?100:e.observing_.length),e.unboundDepsCount_=0,e.runId_=++yt.runId;var s,r=yt.trackingDerivation;if(yt.trackingDerivation=e,yt.inBatch++,!0===yt.disableErrorBoundaries)s=t.call(n);else try{s=t.call(n)}catch(a){s=new ot(a)}return yt.inBatch--,yt.trackingDerivation=r,function(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,i=nt.UP_TO_DATE_,s=0,r=e.unboundDepsCount_,a=0;a<r;a++){var o=n[a];0===o.diffValue&&(o.diffValue=1,s!==a&&(n[s]=o),s++),o.dependenciesState_>i&&(i=o.dependenciesState_)}n.length=s,e.newObserving_=null,r=t.length;for(;r--;){var u=t[r];0===u.diffValue&&wt(u,e),u.diffValue=0}for(;s--;){var l=n[s];1===l.diffValue&&(l.diffValue=0,kt(l,e))}i!==nt.UP_TO_DATE_&&(e.dependenciesState_=i,e.onBecomeStale_())}(e),pt(i),s}function ct(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)wt(t[n],e);e.dependenciesState_=nt.NOT_TRACKING_}function ht(e){var t=dt();try{return e()}finally{ft(t)}}function dt(){var e=yt.trackingDerivation;return yt.trackingDerivation=null,e}function ft(e){yt.trackingDerivation=e}function gt(e){var t=yt.allowStateReads;return yt.allowStateReads=e,t}function pt(e){yt.allowStateReads=e}function vt(e){if(e.dependenciesState_!==nt.UP_TO_DATE_){e.dependenciesState_=nt.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=nt.UP_TO_DATE_}}var bt=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},mt=!0,yt=function(){var e=h();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(mt=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new bt).version&&(mt=!1),mt?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new bt):(setTimeout(function(){l(35)},1),new bt)}();function kt(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function wt(e,t){e.observers_.delete(t),0===e.observers_.size&&Ot(e)}function Ot(e){!1===e.isPendingUnobservation&&(e.isPendingUnobservation=!0,yt.pendingUnobservations.push(e))}function St(){yt.inBatch++}function At(){if(0===--yt.inBatch){Vt();for(var e=yt.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,0===n.observers_.size&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof tt&&n.suspend_())}yt.pendingUnobservations=[]}}function xt(e){var t=yt.trackingDerivation;return null!==t?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved&&yt.trackingContext&&(e.isBeingObserved=!0,e.onBO())),e.isBeingObserved):(0===e.observers_.size&&yt.inBatch>0&&Ot(e),!1)}function Et(e){e.lowestObserverState_!==nt.STALE_&&(e.lowestObserverState_=nt.STALE_,e.observers_.forEach(function(e){e.dependenciesState_===nt.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=nt.STALE_}))}var jt=function(){function e(e,t,n,i){void 0===e&&(e="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=nt.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=st.NONE,this.name_=e,this.onInvalidate_=t,this.errorHandler_=n,this.requiresObservable_=i}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled||(this.isScheduled=!0,yt.pendingReactions.push(this),Vt())},t.runReaction_=function(){if(!this.isDisposed){St(),this.isScheduled=!1;var e=yt.trackingContext;if(yt.trackingContext=this,_t(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(t){this.reportExceptionInDerivation_(t)}}yt.trackingContext=e,At()}},t.track=function(e){if(!this.isDisposed){St(),this.isRunning=!0;var t=yt.trackingContext;yt.trackingContext=this;var n=lt(this,e,void 0);yt.trackingContext=t,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&ct(this),ut(n)&&this.reportExceptionInDerivation_(n.cause),At()}},t.reportExceptionInDerivation_=function(e){var t=this;if(this.errorHandler_)this.errorHandler_(e,this);else{if(yt.disableErrorBoundaries)throw e;var n="[mobx] uncaught error in '"+this+"'";yt.suppressReactionErrors||console.error(n,e),yt.globalReactionErrorHandlers.forEach(function(n){return n(e,t)})}},t.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(St(),ct(this),At()))},t.getDisposer_=function(e){var t=this,n=function n(){t.dispose(),null==e||null==e.removeEventListener||e.removeEventListener("abort",n)};return null==e||null==e.addEventListener||e.addEventListener("abort",n),n[Z]=this,"dispose"in Symbol&&"symbol"==typeof Symbol.dispose&&(n[Symbol.dispose]=n),n},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(e){},$(e,[{key:"isDisposed",get:function(){return B(this.flags_,e.isDisposedMask_)},set:function(t){this.flags_=U(this.flags_,e.isDisposedMask_,t)}},{key:"isScheduled",get:function(){return B(this.flags_,e.isScheduledMask_)},set:function(t){this.flags_=U(this.flags_,e.isScheduledMask_,t)}},{key:"isTrackPending",get:function(){return B(this.flags_,e.isTrackPendingMask_)},set:function(t){this.flags_=U(this.flags_,e.isTrackPendingMask_,t)}},{key:"isRunning",get:function(){return B(this.flags_,e.isRunningMask_)},set:function(t){this.flags_=U(this.flags_,e.isRunningMask_,t)}},{key:"diffValue",get:function(){return B(this.flags_,e.diffValueMask_)?1:0},set:function(t){this.flags_=U(this.flags_,e.diffValueMask_,1===t)}}])}();jt.isDisposedMask_=1,jt.isScheduledMask_=2,jt.isTrackPendingMask_=4,jt.isRunningMask_=8,jt.diffValueMask_=16;var Pt=100,Tt=function(e){return e()};function Vt(){yt.inBatch>0||yt.isRunningReactions||Tt(Dt)}function Dt(){yt.isRunningReactions=!0;for(var e=yt.pendingReactions,t=0;e.length>0;){++t===Pt&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),i=0,s=n.length;i<s;i++)n[i].runReaction_()}yt.isRunningReactions=!1}var It=V("Reaction",jt);var Mt="action",Ct="autoAction",Nt="<unnamed action>",Lt=ae(Mt),Rt=ae("action.bound",{bound:!0}),Bt=ae(Ct,{autoAction:!0}),Ut=ae("autoAction.bound",{autoAction:!0,bound:!0});function Gt(e){return function(t,n){return S(t)?Ye(t.name||Nt,t,e):S(n)?Ye(t,n,e):J(n)?(e?Bt:Lt).decorate_20223_(t,n):A(n)?Y(t,n,e?Bt:Lt):A(t)?X(ae(e?Ct:Mt,{name:t,autoAction:e})):void 0}}var $t=Gt(!1);Object.assign($t,Lt);var Kt=Gt(!0);function zt(e){return Je(e.name,!1,e,this,void 0)}function Ft(e){return S(e)&&!0===e.isMobxAction}function qt(e,t){var n,i,s,r;void 0===t&&(t=b);var a,o=null!=(n=null==(i=t)?void 0:i.name)?n:"Autorun";if(!t.scheduler&&!t.delay)a=new jt(o,function(){this.track(c)},t.onError,t.requiresObservable);else{var u=Wt(t),l=!1;a=new jt(o,function(){l||(l=!0,u(function(){l=!1,a.isDisposed||a.track(c)}))},t.onError,t.requiresObservable)}function c(){e(a)}return null!=(s=t)&&null!=(s=s.signal)&&s.aborted||a.schedule_(),a.getDisposer_(null==(r=t)?void 0:r.signal)}Object.assign(Kt,Bt),$t.bound=X(Rt),Kt.bound=X(Ut);var Ht=function(e){return e()};function Wt(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:Ht}function Xt(e,t,n){var i,s,r;void 0===n&&(n=b);var a,o,u,l=null!=(i=n.name)?i:"Reaction",c=$t(l,n.onError?(a=n.onError,o=t,function(){try{return o.apply(this,arguments)}catch(e){a.call(this,e)}}):t),h=!n.scheduler&&!n.delay,d=Wt(n),f=!0,g=!1,p=n.compareStructural?ne.structural:n.equals||ne.default,v=new jt(l,function(){f||h?m():g||(g=!0,d(m))},n.onError,n.requiresObservable);function m(){if(g=!1,!v.isDisposed){var t=!1,i=u;v.track(function(){var n=function(e,t){var n=Ze(e);try{return t()}finally{Qe(n)}}(!1,function(){return e(v)});t=f||!p(u,n),u=n}),(f&&n.fireImmediately||!f&&t)&&c(u,i,v),f=!1}}return null!=(s=n)&&null!=(s=s.signal)&&s.aborted||v.schedule_(),v.getDisposer_(null==(r=n)?void 0:r.signal)}var Yt="onBO",Jt="onBUO";function Zt(e,t,n){return Qt(Jt,e,t,n)}function Qt(e,t,n,i){var s=ui(t),r=S(i)?i:n,a=e+"L";return s[a]?s[a].add(r):s[a]=new Set([r]),function(){var e=s[a];e&&(e.delete(r),0===e.size&&delete s[a])}}function en(e,t,n,i){var s=R(t);return li(function(){var t=qn(e,i)[Z];C(s).forEach(function(e){t.extend_(e,s[e],!n||(!(e in n)||n[e]))})}),e}var tn=0;function nn(){this.message="FLOW_CANCELLED"}nn.prototype=Object.create(Error.prototype);var sn=ce("flow"),rn=ce("flow.bound",{bound:!0}),an=Object.assign(function(e,t){if(J(t))return sn.decorate_20223_(e,t);if(A(t))return Y(e,t,sn);var n=e,i=n.name||"<unnamed flow>",s=function(){var e,t=arguments,s=++tn,r=$t(i+" - runid: "+s+" - init",n).apply(this,t),a=void 0,o=new Promise(function(t,n){var o=0;function u(e){var t;a=void 0;try{t=$t(i+" - runid: "+s+" - yield "+o++,r.next).call(r,e)}catch(u){return n(u)}c(t)}function l(e){var t;a=void 0;try{t=$t(i+" - runid: "+s+" - yield "+o++,r.throw).call(r,e)}catch(u){return n(u)}c(t)}function c(e){if(!S(null==e?void 0:e.then))return e.done?t(e.value):(a=Promise.resolve(e.value)).then(u,l);e.then(c,n)}e=n,u(void 0)});return o.cancel=$t(i+" - runid: "+s+" - cancel",function(){try{a&&on(a);var t=r.return(void 0),n=Promise.resolve(t.value);n.then(O,O),on(n),e(new nn)}catch(i){e(i)}}),o};return s.isMobXFlow=!0,s},sn);function on(e){S(e.cancel)&&e.cancel()}function un(e){return!0===(null==e?void 0:e.isMobXFlow)}function _n(e){return function(e){return!!e&&(Xn(e)||!!e[Z]||ee(e)||It(e)||at(e))}(e)}function ln(e,t){void 0===t&&(t=void 0),St();try{return e.apply(t)}finally{At()}}function cn(e){return e[Z]}an.bound=X(rn);var hn={has:function(e,t){return cn(e).has_(t)},get:function(e,t){return cn(e).get_(t)},set:function(e,t,n){var i;return!!A(t)&&(null==(i=cn(e).set_(t,n,!0))||i)},deleteProperty:function(e,t){var n;return!!A(t)&&(null==(n=cn(e).delete_(t,!0))||n)},defineProperty:function(e,t,n){var i;return null==(i=cn(e).defineProperty_(t,n))||i},ownKeys:function(e){return cn(e).ownKeys_()},preventExtensions:function(e){l(13)}};function dn(e){return void 0!==e.interceptors_&&e.interceptors_.length>0}function fn(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),w(function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)})}function gn(e,t){var n=dt();try{for(var i=[].concat(e.interceptors_||[]),s=0,r=i.length;s<r&&((t=i[s](t))&&!t.type&&l(14),t);s++);return t}finally{ft(n)}}function pn(e){return void 0!==e.changeListeners_&&e.changeListeners_.length>0}function vn(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),w(function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)})}function bn(e,t){var n=dt(),i=e.changeListeners_;if(i){for(var s=0,r=(i=i.slice()).length;s<r;s++)i[s](t);ft(n)}}var mn=Symbol("mobx-keys");function yn(e,t,n){return E(e)?en(e,e,t,n):(li(function(){var i=qn(e,n)[Z];if(!e[mn]){var s=Object.getPrototypeOf(e),r=new Set([].concat(C(e),C(s)));r.delete("constructor"),r.delete(Z),P(s,mn,r)}e[mn].forEach(function(e){return i.make_(e,!t||(!(e in t)||t[e]))})}),e)}var kn="splice",wn="update",On={get:function(e,t){var n=e[Z];return t===Z?n:"length"===t?n.getArrayLength_():"string"!=typeof t||isNaN(t)?L(xn,t)?xn[t]:e[t]:n.get_(parseInt(t))},set:function(e,t,n){var i=e[Z];return"length"===t&&i.setArrayLength_(n),"symbol"==typeof t||isNaN(t)?e[t]=n:i.set_(parseInt(t),n),!0},preventExtensions:function(){l(15)}},Sn=function(){function e(e,t,n,i){void 0===e&&(e="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=n,this.legacyMode_=i,this.atom_=new Q(e),this.enhancer_=function(e,n){return t(e,n,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.dehanceValues_=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},t.intercept_=function(e){return fn(this,e)},t.observe_=function(e,t){return void 0===t&&(t=!1),t&&e({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),vn(this,e)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(e){("number"!=typeof e||isNaN(e)||e<0)&&l("Out of range: "+e);var t=this.values_.length;if(e!==t)if(e>t){for(var n=new Array(e-t),i=0;i<e-t;i++)n[i]=void 0;this.spliceWithArray_(t,0,n)}else this.spliceWithArray_(e,t-e)},t.updateArrayLength_=function(e,t){e!==this.lastKnownLength_&&l(16),this.lastKnownLength_+=t,this.legacyMode_&&t>0&&ai(e+t+1)},t.spliceWithArray_=function(e,t,n){var i=this;this.atom_;var s=this.values_.length;if(void 0===e?e=0:e>s?e=s:e<0&&(e=Math.max(0,s+e)),t=1===arguments.length?s-e:null==t?0:Math.max(0,Math.min(t,s-e)),void 0===n&&(n=v),dn(this)){var r=gn(this,{object:this.proxy_,type:kn,index:e,removedCount:t,added:n});if(!r)return v;t=r.removedCount,n=r.added}if(n=0===n.length?n:n.map(function(e){return i.enhancer_(e,void 0)}),this.legacyMode_){var a=n.length-t;this.updateArrayLength_(s,a)}var o=this.spliceItemsIntoValues_(e,t,n);return 0===t&&0===n.length||this.notifyArraySplice_(e,n,o),this.dehanceValues_(o)},t.spliceItemsIntoValues_=function(e,t,n){var i;if(n.length<1e4)return(i=this.values_).splice.apply(i,[e,t].concat(n));var s=this.values_.slice(e,e+t),r=this.values_.slice(e+t);this.values_.length+=n.length-t;for(var a=0;a<n.length;a++)this.values_[e+a]=n[a];for(var o=0;o<r.length;o++)this.values_[e+n.length+o]=r[o];return s},t.notifyArrayChildUpdate_=function(e,t,n){var i=!this.owned_&&!1,s=pn(this),r=s||i?{observableKind:"array",object:this.proxy_,type:wn,debugObjectName:this.atom_.name_,index:e,newValue:t,oldValue:n}:null;this.atom_.reportChanged(),s&&bn(this,r)},t.notifyArraySplice_=function(e,t,n){var i=!this.owned_&&!1,s=pn(this),r=s||i?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:kn,index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;this.atom_.reportChanged(),s&&bn(this,r)},t.get_=function(e){if(!(this.legacyMode_&&e>=this.values_.length))return this.atom_.reportObserved(),this.dehanceValue_(this.values_[e]);console.warn("[mobx] Out of bounds read: "+e)},t.set_=function(e,t){var n=this.values_;if(this.legacyMode_&&e>n.length&&l(17,e,n.length),e<n.length){this.atom_;var i=n[e];if(dn(this)){var s=gn(this,{type:wn,object:this.proxy_,index:e,newValue:t});if(!s)return;t=s.newValue}(t=this.enhancer_(t,i))!==i&&(n[e]=t,this.notifyArrayChildUpdate_(e,t,i))}else{for(var r=new Array(e+1-n.length),a=0;a<r.length-1;a++)r[a]=void 0;r[r.length-1]=t,this.spliceWithArray_(n.length,0,r)}},e}();function An(e,t,n,i){return void 0===n&&(n="ObservableArray"),void 0===i&&(i=!1),k(),li(function(){var s=new Sn(n,t,i,!1);T(s.values_,Z,s);var r=new Proxy(s.values_,On);return s.proxy_=r,e&&e.length&&s.spliceWithArray_(0,0,e),r})}var xn={clear:function(){return this.splice(0)},replace:function(e){var t=this[Z];return t.spliceWithArray_(0,t.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];var r=this[Z];switch(arguments.length){case 0:return[];case 1:return r.spliceWithArray_(e);case 2:return r.spliceWithArray_(e,t)}return r.spliceWithArray_(e,t,i)},spliceWithArray:function(e,t,n){return this[Z].spliceWithArray_(e,t,n)},push:function(){for(var e=this[Z],t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.spliceWithArray_(e.values_.length,0,n),e.values_.length},pop:function(){return this.splice(Math.max(this[Z].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[Z],t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.spliceWithArray_(0,0,n),e.values_.length},reverse:function(){return yt.trackingDerivation&&l(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){yt.trackingDerivation&&l(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var t=this[Z],n=t.dehanceValues_(t.values_).indexOf(e);return n>-1&&(this.splice(n,1),!0)}};function En(e,t){"function"==typeof Array.prototype[e]&&(xn[e]=t(e))}function jn(e){return function(){var t=this[Z];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function Pn(e){return function(t,n){var i=this,s=this[Z];return s.atom_.reportObserved(),s.dehanceValues_(s.values_)[e](function(e,s){return t.call(n,e,s,i)})}}function Tn(e){return function(){var t=this,n=this[Z];n.atom_.reportObserved();var i=n.dehanceValues_(n.values_),s=arguments[0];return arguments[0]=function(e,n,i){return s(e,n,i,t)},i[e].apply(i,arguments)}}En("at",jn),En("concat",jn),En("flat",jn),En("includes",jn),En("indexOf",jn),En("join",jn),En("lastIndexOf",jn),En("slice",jn),En("toString",jn),En("toLocaleString",jn),En("toSorted",jn),En("toSpliced",jn),En("with",jn),En("every",Pn),En("filter",Pn),En("find",Pn),En("findIndex",Pn),En("findLast",Pn),En("findLastIndex",Pn),En("flatMap",Pn),En("forEach",Pn),En("map",Pn),En("some",Pn),En("toReversed",Pn),En("reduce",Tn),En("reduceRight",Tn);var Vn=V("ObservableArrayAdministration",Sn);function Dn(e){return x(e)&&Vn(e[Z])}var In={},Mn="add",Cn="delete",Nn=function(){function e(e,t,n){var i=this;void 0===t&&(t=ie),void 0===n&&(n="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[Z]=In,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=t,this.name_=n,S(Map)||l(18),li(function(){i.keysAtom_=te("ObservableMap.keys()"),i.data_=new Map,i.hasMap_=new Map,e&&i.merge(e)})}var t=e.prototype;return t.has_=function(e){return this.data_.has(e)},t.has=function(e){var t=this;if(!yt.trackingDerivation)return this.has_(e);var n=this.hasMap_.get(e);if(!n){var i=n=new et(this.has_(e),se,"ObservableMap.key?",!1);this.hasMap_.set(e,i),Zt(i,function(){return t.hasMap_.delete(e)})}return n.get()},t.set=function(e,t){var n=this.has_(e);if(dn(this)){var i=gn(this,{type:n?wn:Mn,object:this,newValue:t,name:e});if(!i)return this;t=i.newValue}return n?this.updateValue_(e,t):this.addValue_(e,t),this},t.delete=function(e){var t=this;if((this.keysAtom_,dn(this))&&!gn(this,{type:Cn,object:this,name:e}))return!1;if(this.has_(e)){var n=pn(this),i=n?{observableKind:"map",debugObjectName:this.name_,type:Cn,object:this,oldValue:this.data_.get(e).value_,name:e}:null;return ln(function(){var n;t.keysAtom_.reportChanged(),null==(n=t.hasMap_.get(e))||n.setNewValue_(!1),t.data_.get(e).setNewValue_(void 0),t.data_.delete(e)}),n&&bn(this,i),!0}return!1},t.updateValue_=function(e,t){var n=this.data_.get(e);if((t=n.prepareNewValue_(t))!==yt.UNCHANGED){var i=pn(this),s=i?{observableKind:"map",debugObjectName:this.name_,type:wn,object:this,oldValue:n.value_,name:e,newValue:t}:null;n.setNewValue_(t),i&&bn(this,s)}},t.addValue_=function(e,t){var n=this;this.keysAtom_,ln(function(){var i,s=new et(t,n.enhancer_,"ObservableMap.key",!1);n.data_.set(e,s),t=s.value_,null==(i=n.hasMap_.get(e))||i.setNewValue_(!0),n.keysAtom_.reportChanged()});var i=pn(this),s=i?{observableKind:"map",debugObjectName:this.name_,type:Mn,object:this,name:e,newValue:t}:null;i&&bn(this,s)},t.get=function(e){return this.has(e)?this.dehanceValue_(this.data_.get(e).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var e=this,t=this.keys();return Rn({next:function(){var n=t.next(),i=n.done,s=n.value;return{done:i,value:i?void 0:e.get(s)}}})},t.entries=function(){var e=this,t=this.keys();return Rn({next:function(){var n=t.next(),i=n.done,s=n.value;return{done:i,value:i?void 0:[s,e.get(s)]}}})},t[Symbol.iterator]=function(){return this.entries()},t.forEach=function(e,t){for(var n,i=K(this);!(n=i()).done;){var s=n.value,r=s[0],a=s[1];e.call(t,a,r,this)}},t.merge=function(e){var t=this;return Ln(e)&&(e=new Map(e)),ln(function(){var n,i,s;E(e)?function(e){var t=Object.keys(e);if(!M)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter(function(t){return p.propertyIsEnumerable.call(e,t)})):t}(e).forEach(function(n){return t.set(n,e[n])}):Array.isArray(e)?e.forEach(function(e){var n=e[0],i=e[1];return t.set(n,i)}):D(e)?(n=e,i=Object.getPrototypeOf(n),s=Object.getPrototypeOf(i),null!==Object.getPrototypeOf(s)&&l(19,e),e.forEach(function(e,n){return t.set(n,e)})):null!=e&&l(20,e)}),this},t.clear=function(){var e=this;ln(function(){ht(function(){for(var t,n=K(e.keys());!(t=n()).done;){var i=t.value;e.delete(i)}})})},t.replace=function(e){var t=this;return ln(function(){for(var n,i=function(e){if(D(e)||Ln(e))return e;if(Array.isArray(e))return new Map(e);if(E(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}return l(21,e)}(e),s=new Map,r=!1,a=K(t.data_.keys());!(n=a()).done;){var o=n.value;if(!i.has(o))if(t.delete(o))r=!0;else{var u=t.data_.get(o);s.set(o,u)}}for(var c,h=K(i.entries());!(c=h()).done;){var d=c.value,f=d[0],g=d[1],p=t.data_.has(f);if(t.set(f,g),t.data_.has(f)){var v=t.data_.get(f);s.set(f,v),p||(r=!0)}}if(!r)if(t.data_.size!==s.size)t.keysAtom_.reportChanged();else for(var b=t.data_.keys(),m=s.keys(),y=b.next(),k=m.next();!y.done;){if(y.value!==k.value){t.keysAtom_.reportChanged();break}y=b.next(),k=m.next()}t.data_=s}),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(e,t){return vn(this,e)},t.intercept_=function(e){return fn(this,e)},$(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])}(),Ln=V("ObservableMap",Nn);function Rn(e){return e[Symbol.toStringTag]="MapIterator",vi(e)}var Bn={},Un=function(){function e(e,t,n){var i=this;void 0===t&&(t=ie),void 0===n&&(n="ObservableSet"),this.name_=void 0,this[Z]=Bn,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=n,S(Set)||l(22),this.enhancer_=function(e,i){return t(e,i,n)},li(function(){i.atom_=te(i.name_),e&&i.replace(e)})}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.clear=function(){var e=this;ln(function(){ht(function(){for(var t,n=K(e.data_.values());!(t=n()).done;){var i=t.value;e.delete(i)}})})},t.forEach=function(e,t){for(var n,i=K(this);!(n=i()).done;){var s=n.value;e.call(t,s,s,this)}},t.add=function(e){var t=this;if(this.atom_,dn(this)){var n=gn(this,{type:Mn,object:this,newValue:e});if(!n)return this;e=n.newValue}if(!this.has(e)){ln(function(){t.data_.add(t.enhancer_(e,void 0)),t.atom_.reportChanged()});var i=pn(this),s=i?{observableKind:"set",debugObjectName:this.name_,type:Mn,object:this,newValue:e}:null;i&&bn(this,s)}return this},t.delete=function(e){var t=this;if(dn(this)&&!gn(this,{type:Cn,object:this,oldValue:e}))return!1;if(this.has(e)){var n=pn(this),i=n?{observableKind:"set",debugObjectName:this.name_,type:Cn,object:this,oldValue:e}:null;return ln(function(){t.atom_.reportChanged(),t.data_.delete(e)}),n&&bn(this,i),!0}return!1},t.has=function(e){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(e))},t.entries=function(){var e=this.values();return $n({next:function(){var t=e.next(),n=t.value,i=t.done;return i?{value:void 0,done:i}:{value:[n,n],done:i}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var e=this,t=this.data_.values();return $n({next:function(){var n=t.next(),i=n.value,s=n.done;return s?{value:void 0,done:s}:{value:e.dehanceValue_(i),done:s}}})},t.intersection=function(e){return I(e)&&!Gn(e)?e.intersection(this):new Set(this).intersection(e)},t.union=function(e){return I(e)&&!Gn(e)?e.union(this):new Set(this).union(e)},t.difference=function(e){return new Set(this).difference(e)},t.symmetricDifference=function(e){return I(e)&&!Gn(e)?e.symmetricDifference(this):new Set(this).symmetricDifference(e)},t.isSubsetOf=function(e){return new Set(this).isSubsetOf(e)},t.isSupersetOf=function(e){return new Set(this).isSupersetOf(e)},t.isDisjointFrom=function(e){return I(e)&&!Gn(e)?e.isDisjointFrom(this):new Set(this).isDisjointFrom(e)},t.replace=function(e){var t=this;return Gn(e)&&(e=new Set(e)),ln(function(){Array.isArray(e)||I(e)?(t.clear(),e.forEach(function(e){return t.add(e)})):null!=e&&l("Cannot initialize set from "+e)}),this},t.observe_=function(e,t){return vn(this,e)},t.intercept_=function(e){return fn(this,e)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Symbol.iterator]=function(){return this.values()},$(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])}(),Gn=V("ObservableSet",Un);function $n(e){return e[Symbol.toStringTag]="SetIterator",vi(e)}var Kn=Object.create(null),zn="remove",Fn=function(){function e(e,t,n,i){void 0===t&&(t=new Map),void 0===i&&(i=Ae),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=e,this.values_=t,this.name_=n,this.defaultAnnotation_=i,this.keysAtom_=new Q("ObservableObject.keys"),this.isPlainObject_=E(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(e){return this.values_.get(e).get()},t.setObservablePropValue_=function(e,t){var n=this.values_.get(e);if(n instanceof tt)return n.set(t),!0;if(dn(this)){var i=gn(this,{type:wn,object:this.proxy_||this.target_,name:e,newValue:t});if(!i)return null;t=i.newValue}if((t=n.prepareNewValue_(t))!==yt.UNCHANGED){var s=pn(this),r=s?{type:wn,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:n.value_,name:e,newValue:t}:null;n.setNewValue_(t),s&&bn(this,r)}return!0},t.get_=function(e){return yt.trackingDerivation&&!L(this.target_,e)&&this.has_(e),this.target_[e]},t.set_=function(e,t,n){return void 0===n&&(n=!1),L(this.target_,e)?this.values_.has(e)?this.setObservablePropValue_(e,t):n?Reflect.set(this.target_,e,t):(this.target_[e]=t,!0):this.extend_(e,{value:t,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,n)},t.has_=function(e){if(!yt.trackingDerivation)return e in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var t=this.pendingKeys_.get(e);return t||(t=new et(e in this.target_,se,"ObservableObject.key?",!1),this.pendingKeys_.set(e,t)),t.get()},t.make_=function(e,t){if(!0===t&&(t=this.defaultAnnotation_),!1!==t){if(!(e in this.target_)){var n;if(null!=(n=this.target_[W])&&n[e])return;l(1,t.annotationType_,this.name_+"."+e.toString())}for(var i=this.target_;i&&i!==p;){var s=f(i,e);if(s){var r=t.make_(this,e,s,i);if(0===r)return;if(1===r)break}i=Object.getPrototypeOf(i)}Yn(this,t,e)}},t.extend_=function(e,t,n,i){if(void 0===i&&(i=!1),!0===n&&(n=this.defaultAnnotation_),!1===n)return this.defineProperty_(e,t,i);var s=n.extend_(this,e,t,i);return s&&Yn(this,n,e),s},t.defineProperty_=function(e,t,n){void 0===n&&(n=!1),this.keysAtom_;try{St();var i=this.delete_(e);if(!i)return i;if(dn(this)){var s=gn(this,{object:this.proxy_||this.target_,name:e,type:Mn,newValue:t.value});if(!s)return null;var r=s.newValue;t.value!==r&&(t=z({},t,{value:r}))}if(n){if(!Reflect.defineProperty(this.target_,e,t))return!1}else g(this.target_,e,t);this.notifyPropertyAddition_(e,t.value)}finally{At()}return!0},t.defineObservableProperty_=function(e,t,n,i){void 0===i&&(i=!1),this.keysAtom_;try{St();var s=this.delete_(e);if(!s)return s;if(dn(this)){var r=gn(this,{object:this.proxy_||this.target_,name:e,type:Mn,newValue:t});if(!r)return null;t=r.newValue}var a=Wn(e),o={configurable:!yt.safeDescriptors||this.isPlainObject_,enumerable:!0,get:a.get,set:a.set};if(i){if(!Reflect.defineProperty(this.target_,e,o))return!1}else g(this.target_,e,o);var u=new et(t,n,"ObservableObject.key",!1);this.values_.set(e,u),this.notifyPropertyAddition_(e,u.value_)}finally{At()}return!0},t.defineComputedProperty_=function(e,t,n){void 0===n&&(n=!1),this.keysAtom_;try{St();var i=this.delete_(e);if(!i)return i;if(dn(this))if(!gn(this,{object:this.proxy_||this.target_,name:e,type:Mn,newValue:void 0}))return null;t.name||(t.name="ObservableObject.key"),t.context=this.proxy_||this.target_;var s=Wn(e),r={configurable:!yt.safeDescriptors||this.isPlainObject_,enumerable:!1,get:s.get,set:s.set};if(n){if(!Reflect.defineProperty(this.target_,e,r))return!1}else g(this.target_,e,r);this.values_.set(e,new tt(t)),this.notifyPropertyAddition_(e,void 0)}finally{At()}return!0},t.delete_=function(e,t){if(void 0===t&&(t=!1),this.keysAtom_,!L(this.target_,e))return!0;if(dn(this)&&!gn(this,{object:this.proxy_||this.target_,name:e,type:zn}))return null;try{var n;St();var i,s=pn(this),r=this.values_.get(e),a=void 0;if(!r&&s)a=null==(i=f(this.target_,e))?void 0:i.value;if(t){if(!Reflect.deleteProperty(this.target_,e))return!1}else delete this.target_[e];if(r&&(this.values_.delete(e),r instanceof et&&(a=r.value_),Et(r)),this.keysAtom_.reportChanged(),null==(n=this.pendingKeys_)||null==(n=n.get(e))||n.set(e in this.target_),s){var o={type:zn,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:a,name:e};0,s&&bn(this,o)}}finally{At()}return!0},t.observe_=function(e,t){return vn(this,e)},t.intercept_=function(e){return fn(this,e)},t.notifyPropertyAddition_=function(e,t){var n,i=pn(this);if(i){var s=i?{type:Mn,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:e,newValue:t}:null;i&&bn(this,s)}null==(n=this.pendingKeys_)||null==(n=n.get(e))||n.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),C(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function qn(e,t){var n;if(L(e,Z))return e;var i=null!=(n=null==t?void 0:t.name)?n:"ObservableObject",s=new Fn(e,new Map,String(i),function(e){var t;return e?null!=(t=e.defaultDecorator)?t:xe(e):void 0}(t));return P(e,Z,s),e}var Hn=V("ObservableObjectAdministration",Fn);function Wn(e){return Kn[e]||(Kn[e]={get:function(){return this[Z].getObservablePropValue_(e)},set:function(t){return this[Z].setObservablePropValue_(e,t)}})}function Xn(e){return!!x(e)&&Hn(e[Z])}function Yn(e,t,n){var i;null==(i=e.target_[W])||delete i[n]}var Jn,Zn,Qn=si(0),ei=function(){var e=!1,t={};return Object.defineProperty(t,"0",{set:function(){e=!0}}),Object.create(t)[0]=1,!1===e}(),ti=0,ni=function(){};Jn=ni,Zn=Array.prototype,Object.setPrototypeOf?Object.setPrototypeOf(Jn.prototype,Zn):void 0!==Jn.prototype.__proto__?Jn.prototype.__proto__=Zn:Jn.prototype=Zn;var ii=function(e){function t(t,n,i,s){var r;return void 0===i&&(i="ObservableArray"),void 0===s&&(s=!1),r=e.call(this)||this,li(function(){var e=new Sn(i,n,s,!0);e.proxy_=r,T(r,Z,e),t&&t.length&&r.spliceWithArray(0,0,t),ei&&Object.defineProperty(r,"0",Qn)}),r}F(t,e);var n=t.prototype;return n.concat=function(){this[Z].atom_.reportObserved();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Array.prototype.concat.apply(this.slice(),t.map(function(e){return Dn(e)?e.slice():e}))},n[Symbol.iterator]=function(){var e=this,t=0;return vi({next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})},$(t,[{key:"length",get:function(){return this[Z].getArrayLength_()},set:function(e){this[Z].setArrayLength_(e)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])}(ni);function si(e){return{enumerable:!1,configurable:!0,get:function(){return this[Z].get_(e)},set:function(t){this[Z].set_(e,t)}}}function ri(e){g(ii.prototype,""+e,si(e))}function ai(e){if(e>ti){for(var t=ti;t<e+100;t++)ri(t);ti=e}}function oi(e,t,n){return new ii(e,t,n)}function ui(e,t){if("object"==typeof e&&null!==e){if(Dn(e))return void 0!==t&&l(23),e[Z].atom_;if(Gn(e))return e.atom_;if(Ln(e)){if(void 0===t)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||l(25,t,_i(e)),n}if(Xn(e)){if(!t)return l(26);var i=e[Z].values_.get(t);return i||l(27,t,_i(e)),i}if(ee(e)||at(e)||It(e))return e}else if(S(e)&&It(e[Z]))return e[Z];l(28)}function _i(e,t){var n;if(void 0!==t)n=ui(e,t);else{if(Ft(e))return e.name;n=Xn(e)||Ln(e)||Gn(e)?function(e){return e||l(29),ee(e)||at(e)||It(e)||Ln(e)||Gn(e)?e:e[Z]?e[Z]:void l(24,e)}(e):ui(e)}return n.name_}function li(e){var t=dt(),n=Ze(!0);St();try{return e()}finally{At(),Qe(n),ft(t)}}Object.entries(xn).forEach(function(e){var t=e[0],n=e[1];"concat"!==t&&P(ii.prototype,t,n)}),ai(1e3);var ci,hi=p.toString;function di(e,t,n){return void 0===n&&(n=-1),fi(e,t,n)}function fi(e,t,n,i,s){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var r=typeof e;if("function"!==r&&"object"!==r&&"object"!=typeof t)return!1;var a=hi.call(e);if(a!==hi.call(t))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0===+e?1/+e==1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++}e=gi(e),t=gi(t);var o="[object Array]"===a;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var u=e.constructor,l=t.constructor;if(u!==l&&!(S(u)&&u instanceof u&&S(l)&&l instanceof l)&&"constructor"in e&&"constructor"in t)return!1}if(0===n)return!1;n<0&&(n=-1),s=s||[];for(var c=(i=i||[]).length;c--;)if(i[c]===e)return s[c]===t;if(i.push(e),s.push(t),o){if((c=e.length)!==t.length)return!1;for(;c--;)if(!fi(e[c],t[c],n-1,i,s))return!1}else{var h=Object.keys(e),d=h.length;if(Object.keys(t).length!==d)return!1;for(var f=0;f<d;f++){var g=h[f];if(!L(t,g)||!fi(e[g],t[g],n-1,i,s))return!1}}return i.pop(),s.pop(),!0}function gi(e){return Dn(e)?e.slice():D(e)||Ln(e)||I(e)||Gn(e)?Array.from(e.entries()):e}var pi=(null==(ci=h().Iterator)?void 0:ci.prototype)||{};function vi(e){return e[Symbol.iterator]=bi,Object.assign(Object.create(pi),e)}function bi(){return this}["Symbol","Map","Set"].forEach(function(e){void 0===h()[e]&&l("MobX requires global '"+e+"' to be available or polyfilled")}),"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:function(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}},extras:{getDebugName:_i},$mobx:Z});class mi{_h;_m;_s;constructor(e){({h:this._h,m:this._m,s:this._s}=e)}static create_from_js_date(e){return new mi({h:e.getHours(),m:e.getMinutes(),s:e.getSeconds()})}static create_from_hhmm_string(e){const[t,n]=e.split(":").map(Number);return new mi({h:t,m:n,s:0})}get hour(){return this._h}get minute(){return this._m}get second(){return this._s}get_as_hms(){return{h:this._h,m:this._m,s:this._s}}get_as_string_hmmss(){const[e,t]=[this._m,this._s].map(e=>String(e).padStart(2,"0"));return`${this._h}:${e}:${t}`}get_as_string_hhmm(){const[e,t]=[this._h,this._m].map(e=>String(e).padStart(2,"0"));return`${e}:${t}`}add_minutes(e){const t=new Date(0,0,1,this._h,this._m,this._s);return t.setMinutes(t.getMinutes()+e),mi.create_from_js_date(t)}get_seconds_until_next_target(e){const[t,n]=[e,this].map(e=>e._seconds_since_midnight);return n<t?t-n:t-n+86400}is_between(e,t){const[n,i,s]=[this,e,t].map(e=>e._seconds_since_midnight);return i<s?i<=n&&n<s:i<=n||n<s}get _seconds_since_midnight(){return 3600*this._h+60*this._m+this._s}}const{DateTime:yi}=imports.gi.GLib;function ki(){return yi.new_now_local().to_unix()}function wi(){const e=Si(yi.new_now_local());return new mi(e)}function Oi(e){const t=Si(yi.new_from_unix_local(e));return new mi(t)}function Si(e){return{h:e.get_hour(),m:e.get_minute(),s:e.get_second()}}class Ai{_time=wi();update_time(){this._time=wi()}twilights;get auto_is_dark(){return this._time.is_between(this.twilights.sunset,this.twilights.sunrise)}manual_is_dark;toggle_is_dark(){this.manual_is_dark=!this.manual_is_dark}is_auto;toggle_is_auto(){this.is_auto=!this.is_auto}get is_dark(){return this.is_auto?this.auto_is_dark:this.manual_is_dark}get is_unsynced(){return this.manual_is_dark!==this.auto_is_dark}sync_is_dark(){this.manual_is_dark=this.auto_is_dark}get next_twilight(){return this.auto_is_dark?this.twilights.sunrise:this.twilights.sunset}constructor(e){Object.assign(this,e),yn(this)}}const{Gio:xi}=imports.gi,Ei={background:xi.Settings.new("org.cinnamon.desktop.background"),slideshow:xi.Settings.new("org.cinnamon.desktop.background.slideshow")};class ji{static get is_slideshow(){return Ei.slideshow.get_boolean("slideshow-enabled")}static set is_slideshow(e){Ei.slideshow.set_boolean("slideshow-enabled",e)}static get picture_file(){return Ei.background.get_string("picture-uri")}static set picture_file(e){Ei.background.set_string("picture-uri",e)}static get slideshow_folder(){return Ei.slideshow.get_string("image-source")}static set slideshow_folder(e){Ei.slideshow.set_string("image-source",e)}}class Pi{_settings;constructor(e,t){this._settings=t,e.on_button_detect_background_light=()=>this.detect_light_background(),e.on_button_detect_background_dark=()=>this.detect_dark_background(),e.on_button_apply_background_light=()=>this.apply_light_background(),e.on_button_apply_background_dark=()=>this.apply_dark_background()}detect_light_background(){const e=ji.is_slideshow;this._settings.light_background_is_slideshow=e,e?this._settings.light_background_slideshow_folder=ji.slideshow_folder.replace("directory://","file://"):this._settings.light_background_file=ji.picture_file}detect_dark_background(){const e=ji.is_slideshow;this._settings.dark_background_is_slideshow=e,e?this._settings.dark_background_slideshow_folder=ji.slideshow_folder.replace("directory://","file://"):this._settings.dark_background_file=ji.picture_file}apply_light_background(){const e=this._settings.light_background_is_slideshow;ji.is_slideshow=e,e?ji.slideshow_folder=decodeURIComponent(this._settings.light_background_slideshow_folder.replace("file://","directory://")):ji.picture_file=this._settings.light_background_file}apply_dark_background(){const e=this._settings.dark_background_is_slideshow;ji.is_slideshow=e,e?ji.slideshow_folder=decodeURIComponent(this._settings.dark_background_slideshow_folder.replace("file://","directory://")):ji.picture_file=this._settings.dark_background_file}}const{Gio:Ti,GLib:Vi}=imports.gi;async function Di(e,t,n){try{await async function(e,t=10){const n=`timeout --kill-after=${Ci} ${t}s sh -c ${Vi.shell_quote(e)}`,[i,s]=Vi.shell_parse_argv(n),r=new Ti.Subprocess({argv:s,flags:Ti.SubprocessFlags.STDERR_PIPE}),a=Date.now();r.init(null);const[o,u]=await new Promise((e,t)=>{r.communicate_utf8_async(null,null,(n,i)=>{try{const[t,s,r]=n.communicate_utf8_finish(i);e([s,r])}catch(s){t(s)}})}),l=(Date.now()-a)/1e3,c=r.get_exit_status();switch(c){case 0:break;case Ii:throw new Ti.IOErrorEnum({code:Ti.IOErrorEnum.TIMED_OUT,message:`may have been timed out by SIGTERM (GNU 'timeout' exit status ${Ii})`});case Mi:throw new Ti.IOErrorEnum({code:Ti.IOErrorEnum.TIMED_OUT,message:`probably killed by an external SIGKILL (GNU 'timeout' exit status ${Mi})`});case 1:if(t>0&&l>=t+Ci)throw new Ti.IOErrorEnum({code:Ti.IOErrorEnum.TIMED_OUT,message:"probably timed out by SIGKILL"});default:throw new Ti.IOErrorEnum({code:Ti.IOErrorEnum.FAILED,message:u?u.trim():"exit status: "+c})}}(n,t)}catch(i){const t=""!==e?e:n;let s=`${_("the command")} '${t}' ${_("has failed")}`;i instanceof Vi.ShellError?s+=` ${_("due to a wrong format")}.\n\n${_("Detail")}${_(":")}\n`+i.message:i instanceof Ti.IOErrorEnum?i.code===Ti.IOErrorEnum.TIMED_OUT?s+=` ${_("due to timeout")}.\n\n${_("Detail")}${_(":")}\n`+i.message:i.code===Ti.IOErrorEnum.FAILED&&(s+=` ${_("due to an error")}.\n\n${_("Detail")}${_(":")}\n`+i.message):s+=`${_(":")} ${i}`,u.warn(s)}}const Ii=124,Mi=137,Ci=10;class Ni{_settings;constructor(e,t){this._settings=t,e.on_button_launch_commands_light=()=>this.launch_light_commands(),e.on_button_launch_commands_dark=()=>this.launch_dark_commands()}launch_dark_commands(){this._launch_commands(this._settings.dark_commands_list)}launch_light_commands(){this._launch_commands(this._settings.light_commands_list)}_launch_commands(e){for(const t of e)t.active&&Di(t.name,t.expiry,t.command)}}class Li{_expiration_time=0;set expiration_time(e){const t=wi().get_seconds_until_next_target(e);this._expiration_time=ki()+t}get_if_has_expired(){return ki()>this._expiration_time}reset(){this._expiration_time=0}}const{GLib:Ri}=imports.gi;class Bi{_event_id=void 0;_timer_absolute=new Li;get_if_should_be_expired(){return this._timer_absolute.get_if_has_expired()}set_the_event(e,t){this.unset_the_event();const n=wi().get_seconds_until_next_target(e);this._event_id=Ri.timeout_add_seconds(Ri.PRIORITY_DEFAULT,n,()=>(t(),Ri.SOURCE_REMOVE)),this._timer_absolute.expiration_time=e}get is_set(){return void 0!==this._event_id}unset_the_event(){this._event_id&&(Ri.source_remove(this._event_id),this._event_id=void 0,this._timer_absolute.reset())}dispose(){this.unset_the_event()}}const Ui=imports.ui.main;let Gi=0;class $i{_name;_callback;constructor(e){this._name=s.uuid+Gi++,this._callback=e}set keybinding(e){Ui.keybindingManager.addHotKey(this._name,e,this._callback)}dispose(){Ui.keybindingManager.removeHotKey(this._name)}}const{Gio:Ki}=imports.gi;class zi{_callback_on_change;constructor(e){this._callback_on_change=e}enable(){this._subscribe_to_changes(this._callback_on_change.bind(this))}disable(){this._unsubscribe_to_changes()}dispose(){this.disable()}_signal_id=void 0;_subscribe_to_changes(e){this._signal_id&&this._unsubscribe_to_changes(),this._signal_id=Ki.DBus.system.signal_subscribe("org.freedesktop.timedate1","org.freedesktop.DBus.Properties","PropertiesChanged","/org/freedesktop/timedate1",null,Ki.DBusSignalFlags.NONE,(t,n,i,s,r,a)=>{const o=a.deep_unpack()[1];if(o.Timezone){const t=o.Timezone.deep_unpack();e(t)}})}_unsubscribe_to_changes(){this._signal_id&&(Ki.DBus.system.signal_unsubscribe(this._signal_id),this._signal_id=void 0)}}const{Gio:Fi}=imports.gi;class qi{_database;constructor(e){const t=`${e}/database.json`,n=Fi.File.new_for_path(t),[i,s]=n.load_contents(null);if(!i)throw new Error(`failed to load file/contents of '${t}'`);this._database=JSON.parse((new TextDecoder).decode(s))}find(e){if(!e)throw new Error("timezone is required");if(!(e in this._database))throw new Error(`unknown timezone: '${e}'`);return{latitude:this._database[e][0],longitude:this._database[e][1]}}}const{GLib:Hi}=imports.gi;class Wi{_timezone_change_listener=new zi(e=>this._timezone=e);_timezone=Hi.TimeZone.new_local().get_identifier();get timezone(){return this._timezone}_timezone_location_finder=new qi(`${s.path}/Timezone_location_finder`);get auto_location(){return this._timezone_location_finder.find(this.timezone)}manual_location;is_location_auto;get location(){return this.is_location_auto?this.auto_location:this.manual_location}constructor(e){Object.assign(this,e),yn(this,{_timezone_change_listener:!1,_timezone_location_finder:!1,manual_location:Ge.deep}),this._timezone_change_listener.enable()}dispose(){this._timezone_change_listener.dispose()}}async function Xi(e){return new Promise(t=>setTimeout(t,e))}const{Gio:Yi}=imports.gi;class Ji{try_now_or_postpone_until_unlocked(e){Ji._get_state_async(t=>{t?this._subscribe_to_changes(t=>{t||(this._unsubscribe_to_changes(),e())}):e()})}cancel(){this._unsubscribe_to_changes()}dispose(){this.cancel()}_signal_id=void 0;_subscribe_to_changes(e){this._signal_id&&this._unsubscribe_to_changes(),this._signal_id=Yi.DBus.session.signal_subscribe("org.cinnamon.ScreenSaver","org.cinnamon.ScreenSaver","ActiveChanged","/org/cinnamon/ScreenSaver",null,Yi.DBusSignalFlags.NONE,(t,n,i,s,r,a)=>{const o=a.deep_unpack()[0];e(o)})}_unsubscribe_to_changes(){this._signal_id&&(Yi.DBus.session.signal_unsubscribe(this._signal_id),this._signal_id=void 0)}static _get_state_async(e){Yi.DBus.session.call("org.cinnamon.ScreenSaver","/org/cinnamon/ScreenSaver","org.cinnamon.ScreenSaver","GetActive",null,null,Yi.DBusCallFlags.NONE,-1,null,(t,n)=>{const i=t.call_finish(n).deep_unpack()[0];e(i)})}}const{Gio:Zi}=imports.gi;class Qi{_callback_when_sleep_entries;_callback_when_wakeup_unlocked;constructor(e,t){this._callback_when_sleep_entries=e,this._callback_when_wakeup_unlocked=t}_screen_lock_checker=new Ji;enable(){this._subscribe_to_changes(e=>{e?this._callback_when_sleep_entries():this._screen_lock_checker.try_now_or_postpone_until_unlocked(()=>this._callback_when_wakeup_unlocked())})}disable(){this._unsubscribe_to_changes(),this._screen_lock_checker.cancel()}dispose(){this._unsubscribe_to_changes(),this._screen_lock_checker.dispose()}_signal_id=void 0;_subscribe_to_changes(e){this._signal_id&&this._unsubscribe_to_changes(),this._signal_id=Zi.DBus.system.signal_subscribe("org.freedesktop.login1","org.freedesktop.login1.Manager","PrepareForSleep","/org/freedesktop/login1",null,Zi.DBusSignalFlags.NONE,(t,n,i,s,r,a)=>{const o=a.deep_unpack()[0];e(o)})}_unsubscribe_to_changes(){this._signal_id&&(Zi.DBus.system.signal_unsubscribe(this._signal_id),this._signal_id=void 0)}}const{Gio:es}=imports.gi,ts=es.Settings.new("org.x.apps.portal");class ns{_callback_on_change;_signal_id=void 0;constructor(e){this._callback_on_change=e}enable(){this.disable(),this._signal_id=ts.connect("changed::color-scheme",()=>{this._callback_on_change(ns.value)})}disable(){void 0!==this._signal_id&&(ts.disconnect(this._signal_id),this._signal_id=void 0)}dispose(){this.disable()}static get value(){return ts.get_string("color-scheme")}static set value(e){ts.set_string("color-scheme",e)}}const{Gio:is}=imports.gi,ss={desktop:is.Settings.new("org.cinnamon.desktop.interface"),cinnamon:is.Settings.new("org.cinnamon.theme")};class rs{static get mouse(){return ss.desktop.get_string("cursor-theme")}static set mouse(e){ss.desktop.set_string("cursor-theme",e)}static get apps(){return ss.desktop.get_string("gtk-theme")}static set apps(e){ss.desktop.set_string("gtk-theme",e)}static get icons(){return ss.desktop.get_string("icon-theme")}static set icons(e){ss.desktop.set_string("icon-theme",e)}static get desktop(){return ss.cinnamon.get_string("name")}static set desktop(e){ss.cinnamon.set_string("name",e)}}class as{_settings;constructor(e,t){this._settings=t,e.on_button_detect_themes_light=()=>this.detect_light_themes(),e.on_button_detect_themes_dark=()=>this.detect_dark_themes(),e.on_button_apply_themes_light=()=>this.apply_light_themes(),e.on_button_apply_themes_dark=()=>this.apply_dark_themes()}detect_light_themes(){this._settings.setValue("light_themes_mouse",rs.mouse),this._settings.setValue("light_themes_apps",rs.apps),this._settings.setValue("light_themes_icons",rs.icons),this._settings.setValue("light_themes_desktop",rs.desktop),this._settings.light_themes_have_been_detected=!0}detect_dark_themes(){this._settings.setValue("dark_themes_mouse",rs.mouse),this._settings.setValue("dark_themes_apps",rs.apps),this._settings.setValue("dark_themes_icons",rs.icons),this._settings.setValue("dark_themes_desktop",rs.desktop),this._settings.dark_themes_have_been_detected=!0}apply_light_themes(){rs.mouse=this._settings.getValue("light_themes_mouse"),rs.apps=this._settings.getValue("light_themes_apps"),rs.icons=this._settings.getValue("light_themes_icons"),rs.desktop=this._settings.getValue("light_themes_desktop"),ns.value="prefer-light"}apply_dark_themes(){rs.mouse=this._settings.getValue("dark_themes_mouse"),rs.apps=this._settings.getValue("dark_themes_apps"),rs.icons=this._settings.getValue("dark_themes_icons"),rs.desktop=this._settings.getValue("dark_themes_desktop"),ns.value="prefer-dark"}}const{Gio:os,GLib:us}=imports.gi,_s="auto-dark-light-time-change-listener";class ls{_callback_when_changes;constructor(e){this._callback_when_changes=e;const t=`${s.path}/Time_change_listener`,n=`${t}/${_s}`;us.file_test(n,us.FileTest.EXISTS)||ls._compile(t),this._run(n)}static _compile(e){if(!us.find_program_in_path("make")||!us.find_program_in_path("g++"))throw new Error(_("Missing dependencies 'make' and/or 'g++'. Install them, in e.g. on Debian-based system with 'sudo apt install make g++', then restart Cinnamon (Ctrl+Alt+Esc)."));const t=new os.Subprocess({argv:["make","-C",e],flags:os.SubprocessFlags.STDERR_PIPE});t.init(null);try{const[e,n,i]=t.communicate_utf8(null,null);if(!t.get_successful())throw new Error(i||_("Unknown compilation error"))}catch(n){throw new Error(`${_("Failed compilation of")} '${_s}'.\n\n`+n.message)}finally{us.spawn_command_line_async(`make -C ${e} clean`)}}_input;_input_error;_output;_subprocess;_should_run=!0;_run(e){this._subprocess=new os.Subprocess({argv:[e],flags:os.SubprocessFlags.STDOUT_PIPE|os.SubprocessFlags.STDIN_PIPE|os.SubprocessFlags.STDERR_PIPE}),this._subprocess.init(null),this._output=this._subprocess.get_stdin_pipe(),this._input=new os.DataInputStream({base_stream:this._subprocess.get_stdout_pipe()}),this._input_error=new os.DataInputStream({base_stream:this._subprocess.get_stderr_pipe()}),this._listen_input(),this._listen_error()}async _listen_input(){do{await new Promise(e=>this._input.read_line_async(us.PRIORITY_DEFAULT,null,e)),this._callback_when_changes()}while(this._should_run)}async _listen_error(){do{const[e,t]=await new Promise(e=>this._input_error.read_line_async(us.PRIORITY_DEFAULT,null,(t,n)=>{try{e(t.read_line_finish(n))}catch(i){u.warn(i),e([null,0])}}));null!==e&&t>0&&u.warn(`${_("the subprocess")} \`${_s}\` ${_("has written on its error output")}${_(":")} ${e}`)}while(this._should_run)}enable(){this._output.write("enable\n",null)}disable(){this._output.write("disable\n",null)}dispose(){this._callback_when_changes=()=>{},this._should_run=!1,this._output.write("exit\n",null),this._subprocess.wait(null)}}const{PI:cs,sin:hs,cos:ds,asin:fs,acos:gs,round:ps}=Math,vs=2*cs,bs=cs/180,ms=9e-4,ys=2440587.5,ks=2451545;function ws(e){return 86400*(e-ys)}function Os(e,t,n){return ms+(e+t)/vs+n}function Ss(e,t,n){return ks+e+.0053*hs(t)-.0069*hs(2*n)}const As=hs(23.4397*bs),xs=102.9372*bs+cs;function Es(e,t){const[n,i]=function(e,t,n){const i=bs*-n,s=bs*t,r=ps(e/86400-10957.5-ms-i/vs),a=Os(0,i,r),o=bs*(.98560028*a+357.5291),u=o+bs*(1.9148*hs(o)+.02*hs(2*o)+3e-4*hs(3*o))+xs,l=fs(As*hs(u)),c=Ss(a,o,u),h=Ss(Os(gs((hs(-.833*bs)-hs(s)*hs(l))/(ds(s)*ds(l))),i,r),o,u);return[ws(2*c-h),ws(h)]}(e.to_unix(),t.latitude,t.longitude);return{sunrise:Oi(n),sunset:Oi(i)}}const{DateTime:js}=imports.gi.GLib;class Ps{_date=js.new_now_local();update(){this._date=js.new_now_local()}location;get _location_twilights(){return Es(this._date,this.location)}auto_sunrise_offset;auto_sunset_offset;get auto_sunrise(){return this._location_twilights.sunrise.add_minutes(this.auto_sunrise_offset)}get auto_sunset(){return this._location_twilights.sunset.add_minutes(this.auto_sunset_offset)}manual_sunrise;manual_sunset;is_sunrise_auto;is_sunset_auto;get _sunrise(){return this.is_sunrise_auto?this.auto_sunrise:this.manual_sunrise}get _sunset(){return this.is_sunset_auto?this.auto_sunset:this.manual_sunset}get twilights(){return{sunrise:this._sunrise,sunset:this._sunset}}constructor(e){Object.assign(this,e),yn(this)}}const{GLib:Ts}=imports.gi,Vs=2e3;const{AppletSettings:Ds}=imports.ui.settings;const{IconApplet:Is}=imports.ui.applet;
//! @preserve
function main(n,i,a,o){!function(n){Object.assign(s,n);const i=t.get_home_dir()+"/.local/share/locale";e.bindtextdomain(s.uuid,i),r=_(s.name)}(n);const l=new Is(i,a,o),c=function(e,t){const n=new Ds({},e,t);return["is_appearance_dark","appearance_keybinding","is_appearance_auto","auto_sunrise_offset","auto_sunset_offset","manual_sunrise","manual_sunset","is_sunrise_auto","is_sunset_auto","manual_latitude","manual_longitude","is_location_auto","enable_background","light_background_is_slideshow","light_background_file","light_background_slideshow_folder","dark_background_is_slideshow","dark_background_file","dark_background_slideshow_folder","light_commands_is_enabled","light_commands_list","dark_commands_is_enabled","dark_commands_list","scheduler_timer_absolute_time","light_themes_have_been_detected","dark_themes_have_been_detected"].forEach(e=>n.bindWithObject(n,e,e)),n}(n.uuid,o);try{!function(e,t){const n=new Wi({manual_location:{latitude:t.manual_latitude,longitude:t.manual_longitude},is_location_auto:t.is_location_auto});t.bind("manual_latitude",null,e=>{n.manual_location.latitude=e}),t.bind("manual_longitude",null,e=>{n.manual_location.longitude=e}),t.bind("is_location_auto",null,e=>{n.is_location_auto=e}),qt(()=>{t.setValue("system_timezone",n.timezone)}),qt(()=>{t.setValue("auto_latitude",n.auto_location.latitude),t.setValue("auto_longitude",n.auto_location.longitude)});const i=new Ps({location:n.location,auto_sunrise_offset:t.auto_sunrise_offset,auto_sunset_offset:t.auto_sunset_offset,manual_sunrise:new mi(t.manual_sunrise),manual_sunset:new mi(t.manual_sunset),is_sunrise_auto:t.is_sunrise_auto,is_sunset_auto:t.is_sunset_auto});qt(()=>{i.location=n.location}),t.bind("auto_sunrise_offset",null,e=>{i.auto_sunrise_offset=e}),t.bind("auto_sunset_offset",null,e=>{i.auto_sunset_offset=e}),t.bind("manual_sunrise",null,e=>{i.manual_sunrise=new mi(e)}),t.bind("manual_sunset",null,e=>{i.manual_sunset=new mi(e)}),t.bind("is_sunrise_auto",null,e=>{i.is_sunrise_auto=e}),t.bind("is_sunset_auto",null,e=>{i.is_sunset_auto=e}),Xt(()=>i.auto_sunrise,async()=>{await Xi(Vs),t.setValue("auto_sunrise",i.auto_sunrise.get_as_string_hhmm())},{fireImmediately:!0}),Xt(()=>i.auto_sunset,async()=>{await Xi(Vs),t.setValue("auto_sunset",i.auto_sunset.get_as_string_hhmm())},{fireImmediately:!0});const s=new Ai({twilights:i.twilights,manual_is_dark:"prefer-dark"===ns.value,is_auto:t.is_appearance_auto});qt(()=>{s.twilights=i.twilights}),e.on_applet_clicked=()=>{s.toggle_is_dark()},e.on_applet_middle_clicked=()=>{s.toggle_is_auto()},t.bind("is_appearance_dark",null,e=>{s.manual_is_dark=e}),t.bind("is_appearance_auto",null,e=>{s.is_auto=e}),Xt(()=>s.manual_is_dark,async()=>{await Xi(Vs),t.is_appearance_dark=s.manual_is_dark},{fireImmediately:!0}),Xt(()=>s.is_auto,()=>{t.is_appearance_auto=s.is_auto}),Xt(()=>s.is_unsynced,async()=>{await Xi(Vs),t.setValue("is_appearance_unsynced",s.is_unsynced)},{fireImmediately:!0}),Xt(()=>s.next_twilight,async()=>{await Xi(Vs),t.setValue("next_update",s.next_twilight.get_as_string_hhmm())},{fireImmediately:!0}),qt(()=>{e.set_applet_icon_symbolic_name(s.is_auto?s.is_unsynced?"auto-inverted-symbolic":"auto-symbolic":s.manual_is_dark?"dark-symbolic":"light-symbolic")});const r=new $i(()=>{s.toggle_is_dark()});r.keybinding=t.appearance_keybinding,t.bind("appearance_keybinding",null,e=>{r.keybinding=e});const a=new as(e,t);"prefer-dark"===ns.value?t.dark_themes_have_been_detected&&a.detect_dark_themes():t.light_themes_have_been_detected&&a.detect_light_themes();const o=yn({value:ns.value}),u=new ns(e=>{o.value=e});let l=!1;qt(()=>{s.manual_is_dark="prefer-dark"===o.value,l=!0});const c=new Pi(e,t),h=new Ni(e,t);Xt(()=>s.manual_is_dark,()=>{!0!==l?s.manual_is_dark?(u.disable(),a.apply_dark_themes(),u.enable(),t.enable_background&&c.apply_dark_background(),t.dark_commands_is_enabled&&h.launch_dark_commands()):(u.disable(),a.apply_light_themes(),u.enable(),t.enable_background&&c.apply_light_background(),t.light_commands_is_enabled&&h.launch_light_commands()):l=!1},{fireImmediately:!0}),qt(()=>{s.is_auto&&(s.manual_is_dark=s.is_dark)});const d=new ls(()=>zt(()=>{i.update(),s.update_time(),g.is_set&&g.get_if_should_be_expired()&&s.sync_is_dark()})),f=new Qi(()=>{d.disable()},()=>zt(()=>{i.update(),s.update_time(),g.is_set&&g.get_if_should_be_expired()&&s.sync_is_dark(),d.enable()})),g=new Bi,p=()=>{g.set_the_event(s.next_twilight,()=>{i.update(),s.update_time(),s.sync_is_dark()})};Xt(()=>s.is_auto,()=>{s.is_auto?(s.update_time(),s.sync_is_dark(),p(),d.enable(),f.enable()):(g.unset_the_event(),d.disable(),f.disable())}),Xt(()=>s.next_twilight,()=>{s.is_auto&&p()},{fireImmediately:!0}),e.set_applet_tooltip(`<b>${_("Click")}</b>${_(":")} ${_("toggle dark/light appearance")}\n<b>${_("Middle-click")}</b>${_(":")} ${_("toggle automatic switch")}`,!0),e.on_button_open_os_timezone_settings=()=>Ts.spawn_command_line_async("cinnamon-settings calendar"),e.on_button_open_os_themes_settings=()=>Ts.spawn_command_line_async("cinnamon-settings themes"),e.on_button_open_os_background_settings=()=>Ts.spawn_command_line_async("cinnamon-settings background"),e.on_applet_removed_from_panel=()=>{r.dispose(),n.dispose(),g.dispose(),f.dispose(),u.dispose(),d.dispose(),t.finalize()},u.enable(),d.enable(),f.enable()}(l,c)}catch(h){l.set_applet_icon_symbolic_name("on-error-symbolic"),h instanceof Error?u.error(h.message):u.error(String(h)),c.finalize()}return l}
